<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>전국 지역 선택 화면</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
/* ================= 위치 조절용 변수 ================= */
:root {
    /* 전체 문구 위치 */
    --message-move-x: 550px;   /* ← 왼쪽 (+) / 오른쪽 (-) */
    --message-move-y: 100px;    /* ↓ 아래 (+) / 위 (-) */

    /* 시 · 군 · 구(지역명)만 개별 조절 */
    --region-offset-x: -50px;    /* ← → */
    --region-offset-y: 6px;    /* ↑ ↓ */
}
/* =================================================== */

body {
    margin: 0;
    background: #1a1a1a;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    font-family: Arial, sans-serif;
}

#content {
    width: 1536px;
    height: 1024px;
    background: url('bok.png') center/cover no-repeat;
    position: relative;
    color: #FFD700;
    text-shadow: 0 0 10px #000;
}

/* 시간 */
#time {
    position: absolute;
    top: 20px;
    right: 20px;
    font-size: 80px;
    font-weight: bold;
}

/* 문구 전체 */
#message {
    position: absolute;
    top: calc(120px + var(--message-move-y));
    right: calc(50px + var(--message-move-x));
    width: 520px;
    text-align: right;
}

.line {
    font-size: 32px;
    font-weight: 600;
    line-height: 1;
}

/* 시 · 군 · 구 */
#region {
    font-size: 36px;
    font-weight: 900;
    color: #fff;
    margin: 6px 0;
    line-height: 1;

    position: relative;
    left: var(--region-offset-x);
    top: var(--region-offset-y);
}

/* 선택 UI */
#selector {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,.6);
    padding: 25px 40px;
    border-radius: 12px;
}

select {
    width: 420px;
    padding: 10px;
    font-size: 22px;
    margin-bottom: 10px;
    background: #222;
    color: #FFD700;
    border: 2px solid #FFD700;
}

button {
    position: absolute;
    bottom: 20px;
    right: 20px;
    padding: 14px 28px;
    font-size: 20px;
    background: rgba(0,0,0,.3);
    color: #fff;
    border: 2px solid #FFD700;
    cursor: pointer;
}

.hide { display:none; }
</style>
</head>

<body>
<div id="content">
    <div id="time"></div>

    <div id="message">
        <div class="line">가까운 곳에서, 끌림이 피는 중</div>
        <div id="region"></div>
        <div class="line">근처의 누군가를 찾고 있어요..</div>
    </div>

    <div id="selector">
        <select id="sido"></select>
        <select id="sigungu"></select>
    </div>

    <button id="download">그림 다운로드</button>
</div>

<script>
/* 전국 지역 데이터 */
const regions = {
    "서울특별시": ["강남구","강동구","강북구","강서구","관악구","광진구","구로구","금천구","노원구","도봉구","동대문구","동작구","마포구","서대문구","서초구","성동구","성북구","송파구","양천구","영등포구","용산구","은평구","종로구","중구","중랑구"],
    "부산광역시": ["중구","서구","동구","영도구","부산진구","동래구","남구","북구","해운대구","사하구","금정구","강서구","연제구","수영구","사상구","기장군"],
    "대구광역시": ["중구","동구","서구","남구","북구","수성구","달서구","달성군"],
    "인천광역시": ["중구","동구","미추홀구","연수구","남동구","부평구","계양구","서구","강화군","옹진군"],
    "경기도": ["수원시","성남시","고양시","용인시","부천시","안산시","안양시","남양주시","화성시","평택시","의정부시","시흥시","파주시","김포시","광명시","광주시","군포시","오산시","이천시","안성시","의왕시","하남시","여주시","양주시","동두천시","과천시","포천시","가평군","양평군","연천군"],
    "제주특별자치도": ["제주시","서귀포시"]
};

const sido = document.getElementById('sido');
const sigungu = document.getElementById('sigungu');

sido.innerHTML = `<option value="">광역자치단체 선택</option>`;
Object.keys(regions).forEach(r => sido.innerHTML += `<option>${r}</option>`);

sido.onchange = () => {
    sigungu.innerHTML = `<option value="">시 / 군 / 구 선택</option>`;
    regions[sido.value]?.forEach(sg => sigungu.innerHTML += `<option>${sg}</option>`);
};

sigungu.onchange = () => {
    document.getElementById('region').textContent =
        `${sido.value} ${sigungu.value}`;
};

/* 시간 */
setInterval(() => {
    const d = new Date();
    document.getElementById('time').textContent =
        `${String(d.getHours()).padStart(2,'0')}:${String(d.getMinutes()).padStart(2,'0')}:${String(d.getSeconds()).padStart(2,'0')}`;
}, 1000);

/* 다운로드 */
document.getElementById('download').onclick = () => {
    document.getElementById('selector').classList.add('hide');
    document.getElementById('download').classList.add('hide');

    html2canvas(document.getElementById('content')).then(c => {
        document.getElementById('selector').classList.remove('hide');
        document.getElementById('download').classList.remove('hide');
        const a = document.createElement('a');
        a.href = c.toDataURL('image/png');
        a.download = '지역화면.png';
        a.click();
    });
};
</script>
</body>
</html>
